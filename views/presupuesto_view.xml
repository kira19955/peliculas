<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <record id="presupuesto_form_view" model="ir.ui.view">
            <field name="name">presupuesto_view</field>
            <field name="model">presupuesto</field>
            <field name="arch" type="xml">
                <form>
                    <header>
                        <button name="aprobar_presupuesto" type="object" string="Aprobado" class="oe_highlight" states="borrador"/>
                        <button name="cancelar_presupuesto" type="object" string="Cancelar" class="oe_highlight" states="borrador,aprobado"/>
                        <field name="state" widget="statusbar" statusbar_visible="borrador,aprobado"/>
                    </header>
                    <sheet>
                        <widget name="web_ribbon" title="archivado" bg_color="bg-danger" attrs="{'invisible':[('active','=',True)]}"/>
                        <field name="image_1920" widget="image" class="oe_avatar" options="{'preview_image': 'image_128',
                         'size':['',128]}"/>

                        <div class="oe_title">
                            <field name="active" invisible="1"/>
                            <div class="o_row">
                                <h1 style="display: flex;"><field name="name" placeholder="Nombre de la pelicula....." required="1" default_focus="1" class="oe_inline"/>
                                <field name="puntuacion" widget="percentpie" string=" " style="padding-left: 10px;" class="oe_inline"/>
                                <field name="puntuacion2" placeholder="Puntuacion de Usuario" class="oe_edit_only oe_inline"/>
                                </h1>
                            </div>
                        </div>

                        <div class="o_row" style="display: flex;">
                            <field name="clasificacion" required="1"/>
                            <span class="fa fa-circle" attrs="{'invisible':[('clasificacion','=',False),('fch_estreno','=',False)]}" style="font-size: 8px;padding:5px 5px"/>
                            <field name="fch_estreno"/>
                        </div>

                        <div class="o_row">
                            <field name="generos_ids" widget="many2many_tags" style="display: flex;"/>
                        </div>

                        <group string="Datos Principales" style="margin-top: -10px;">
                            <field name="vista_general" placeholder="Vista General..." attrs="{'readonly':[('state','!=','borrador')]}"/>
                            <group>
                                <field name="director_id" domain="[('category_id', 'in',[categoria_director_id])]" options="{'no_create': True, 'no_open':True}"/>
                                <field name="categoria_director_id" invisible="1"/>
                                <field name="link_trailer" widget="url"/>
                                <field name="fhc_aprobado" readonly="1"/>

                            </group>
                            <group>
                                <field name="es_libro" widget="boolean_toggle"/>
                                <field name="libro" attrs="{'invisible':[('es_libro','=',False)]}" filename="libro_file"/>
                                <field name="libro_file" invisible="1"/>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
    </data>
</odoo>